<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <input type="text" id="phoneNum" maxlength="13" />
    <script>
      var autoHypenPhone = function (str) {
        str = str.replace(/[^0-9]/g, "");
        var tmp = "";
        if (str.length < 4) {
          return str;
        } else if (str.length < 7) {
          tmp += str.substr(0, 3);
          tmp += "-";
          tmp += str.substr(3);
          return tmp;
        } else if (str.length < 11) {
          tmp += str.substr(0, 3);
          tmp += "-";
          tmp += str.substr(3, 3);
          tmp += "-";
          tmp += str.substr(6);
          return tmp;
        } else {
          tmp += str.substr(0, 3);
          tmp += "-";
          tmp += str.substr(3, 4);
          tmp += "-";
          tmp += str.substr(7);
          return tmp;
        }

        return str;
      };

      var phoneNum = document.getElementById("phoneNum");

      phoneNum.onkeyup = function () {
        console.log(this.value);
        this.value = autoHypenPhone(this.value);
      };
    </script>
  </body>
</html>
